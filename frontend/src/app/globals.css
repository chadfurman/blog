@tailwind base;

@layer base {
    h1 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-2xl;
        @apply mt-8;
        @apply mb-4;
        @apply tracking-widest;
    }

    h2 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-xl;
        @apply mt-8;
        @apply mb-4;
    }

    h3 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-base;
        @apply font-normal;
        @apply mt-8;
        @apply mb-4;
    }

    h4 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-base;
        @apply font-light;
        @apply mt-8;
        @apply mb-4;
    }

    h5 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-base;
        @apply font-light;
        @apply italic;
        @apply mt-8;
        @apply mb-4;
    }

    h6 {
        color: var(--highlight);
        @apply font-normal;
        @apply leading-tight;
        @apply text-base;
        @apply font-light;
        @apply italic;
        @apply opacity-90;
        @apply mt-8;
        @apply mb-4;
    }
}

@tailwind components;
@tailwind utilities;

:root {
    --background: 255 255 255;       /* #FFFFFF - white */
    --background-alt: 248 250 252;   /* #F8FAFC - slate-50 */
    --background-warm: 240 247 255;  /* #F0F7FF - soft blue wash */
    --foreground: 30 41 59;          /* slate-800 */
    --primary: 37 99 235;            /* blue-600 */
    --accent: 13 148 136;            /* #0D9488 - teal-600 */
    --muted: 100 116 139;            /* slate-500 */
    --highlight: 15 23 42;           /* slate-900 */
    --header-font-weight: 700;
    --body-font-weight: 400;
    --card-shadow: 0 1px 3px rgba(0,0,0,0.08);
    --card-shadow-hover: 0 8px 25px rgba(0,0,0,0.12);
    --footer-bg: 15 23 42;          /* slate-900 */
}

*, *::before, *::after {
    box-sizing: border-box;
}

html, body {
    padding: 0;
    margin: 0;
    scroll-behavior: smooth;
}

body {
    color: rgb(var(--foreground));
    background: rgb(var(--background));
    font-family: var(--font-body), sans-serif;
    font-weight: 400;
    @apply text-base;
    @apply tracking-wide;
    @apply leading-7;
    @apply antialiased;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-header), sans-serif;
}

p {
    @apply my-4;
}

blockquote {
    @apply my-6;
    @apply pl-4;
    @apply border-l-4;
    @apply border-primary/30;
    @apply italic;
    color: rgba(var(--foreground), 0.8);
    font-style: italic;
}

ul, ol {
    @apply my-4;
    @apply pl-6;
}

li {
    @apply my-2;
}

.link-styles {
    @apply font-medium;
    @apply cursor-pointer;
    @apply decoration-dotted;
    @apply decoration-1;
    @apply underline-offset-4;
    @apply underline;
    color: rgb(var(--highlight));
    /*text-decoration-color: rgb(var(--primary));*/
    @apply transition-colors;
    @apply ease-in-out;
    @apply cursor-pointer;
}

.link-styles:hover, .link-styles:focus {
    color: rgb(var(--primary));
    text-decoration-color: rgb(var(--primary));
}

.card-interactive {
    box-shadow: var(--card-shadow);
    transition: box-shadow 200ms ease-in-out, transform 200ms ease-in-out, border-color 200ms ease-in-out;
}
.card-interactive:hover {
    box-shadow: var(--card-shadow-hover);
}

p {
    a {
        @apply link-styles;
    }
}

.primary-nav {
    a, button {
        @apply link-styles
    }
}

/* Services dropdown â€” plain CSS hover, not Tailwind group-hover */
.services-nav:hover .services-nav-dropdown {
    opacity: 1 !important;
    visibility: visible !important;
}

.services-nav:hover .services-nav-chevron {
    transform: rotate(180deg);
}

hr {
    @apply border-dotted;
    @apply border-primary/20;
    @apply my-8;
}

/* Code blocks and syntax highlighting */
code {
    @apply font-mono;
    @apply text-sm;
    @apply px-1;
    @apply py-0.5;
    @apply rounded;
    background-color: rgba(var(--primary), 0.15);
    color: rgb(var(--highlight));
    font-weight: 500;
}

pre {
    @apply overflow-x-auto;
    @apply rounded-lg;
    @apply p-4;
    @apply my-6;
    @apply text-sm;
    @apply leading-relaxed;
    background-color: rgba(var(--foreground), 0.03);
    border: 1px solid rgba(var(--primary), 0.3);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

pre code {
    @apply p-0;
    @apply bg-transparent;
    @apply text-inherit;
    @apply rounded-none;
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
    font-weight: 400;
    line-height: 1.6;
}

/* Prism.js syntax highlighting theme - Light theme (GitHub-inspired) */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: #6a737d;
    font-style: italic;
}

.token.punctuation {
    color: #24292e;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
    color: #d73a49;
}

.token.boolean,
.token.number {
    color: #0969da;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #0a3069;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
    color: #1f2328;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
    color: #8250df;
}

.token.keyword {
    color: #cf222e;
    font-weight: 600;
}

.token.regex,
.token.important {
    color: #d73a49;
}

.token.important,
.token.bold {
    font-weight: bold;
}

.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}

/* Enhanced C/C++ preprocessor and macro highlighting */
.token.macro,
.token.directive {
    color: #8b3500;
    font-weight: 500;
}

.token.directive-hash {
    color: #8b3500;
    font-weight: 500;
}

/* Specific macro keywords */
.language-c .token.directive.keyword,
.language-cpp .token.directive.keyword {
    color: #d73a49;
    font-weight: 500;
}

/* #define, #if, #ifdef, etc. */
.language-c .token.keyword.directive,
.language-cpp .token.keyword.directive {
    color: #d73a49;
    font-weight: 500;
}

/* Macro parameters and content */
.language-c .token.macro-name,
.language-cpp .token.macro-name {
    color: #7c3500;
    font-weight: 500;
}

/* Backslash line continuations in macros */
.language-c .token.punctuation.important,
.language-cpp .token.punctuation.important {
    color: #d73a49;
    font-weight: bold;
}

/* Rust specific highlighting */
.language-rust .token.lifetime,
.language-rust .token.attribute {
    color: #8b3500;
}

.language-rust .token.macro {
    color: #d73a49;
    font-weight: 600;
}


/* Language label styling */
pre[class*="language-"]::before {
    content: attr(class);
    position: absolute;
    top: 0;
    right: 0;
    background: rgba(var(--primary), 0.8);
    color: rgb(var(--background));
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    border-bottom-left-radius: 0.375rem;
    border-top-right-radius: 0.5rem;
}

pre[class*="language-"] {
    position: relative;
}

/* Specific language labels */
pre.language-c::before { content: "C"; }
pre.language-cpp::before { content: "C++"; }
pre.language-rust::before { content: "Rust"; }
pre.language-javascript::before { content: "JavaScript"; }
pre.language-typescript::before { content: "TypeScript"; }
pre.language-bash::before { content: "Bash"; }
pre.language-yaml::before { content: "YAML"; }
pre.language-json::before { content: "JSON"; }

/* Improve scrollbar styling */
pre::-webkit-scrollbar {
    height: 8px;
}

pre::-webkit-scrollbar-track {
    background: rgba(var(--background), 0.3);
    border-radius: 4px;
}

pre::-webkit-scrollbar-thumb {
    background: rgba(var(--primary), 0.5);
    border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--primary), 0.7);
}

/* Form element styles */
input[type="text"],
input[type="email"],
select,
textarea {
    @apply w-full;
    @apply rounded-lg;
    @apply px-4;
    @apply py-3;
    @apply text-base;
    @apply leading-7;
    @apply tracking-wide;
    @apply mt-1;
    @apply mb-0;
    background: rgb(var(--background-alt));
    color: rgb(var(--foreground));
    border: 1px solid rgba(var(--foreground), 0.2);
    border-bottom: 3px solid rgba(var(--foreground), 0.4);
    font-family: var(--font-body), sans-serif;
    font-weight: var(--body-font-weight);
    outline: none;
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background 0.2s ease-in-out;
}

input[type="text"]:hover,
input[type="email"]:hover,
select:hover,
textarea:hover {
    border-color: rgba(var(--foreground), 0.3);
    border-bottom-color: rgb(var(--primary));
}

input[type="text"]:focus,
input[type="email"]:focus,
select:focus,
textarea:focus {
    border: 1px solid rgb(var(--primary));
    border-bottom: 1px solid rgb(var(--primary));
    box-shadow: 0 0 0 2px rgba(var(--primary), 0.12);
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
textarea::placeholder {
    color: rgba(var(--foreground), 0.35);
    font-weight: 300;
}

select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 2.5rem;
}

select option {
    background: rgb(var(--background));
    color: rgb(var(--foreground));
}

textarea {
    @apply min-h-32;
    resize: vertical;
}

button[type="submit"] {
    @apply rounded-lg;
    @apply px-8;
    @apply py-3;
    @apply text-base;
    @apply font-medium;
    @apply tracking-wide;
    @apply cursor-pointer;
    @apply mt-4;
    background: rgb(var(--primary));
    color: rgb(var(--background));
    border: 1px solid transparent;
    transition: opacity 0.2s ease-in-out;
}

button[type="submit"]:hover {
    opacity: 0.85;
}

button[type="submit"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}